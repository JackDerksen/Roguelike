<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jack&#39;s Roguelike: Notes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Jack&#39;s Roguelike<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">A simple game made in C using the ncurses library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Notes</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p><ul>
<li>Main function should perform the initial setup (like calling 'screen_setup'), enter the main game loop where the bulk of the game logic will go, and perform cleanup and exit when the game loop is exited.</li>
<li>A way to handle getch input: <div class="fragment"><div class="line">int main(void) {</div>
<div class="line">    if (screen_setup() != 0) {</div>
<div class="line">        return 1; // Exit if screen setup fails</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    // Other setup functions...</div>
<div class="line">    // map_setup();</div>
<div class="line">    // player_setup();</div>
<div class="line"> </div>
<div class="line">    // Main game loop</div>
<div class="line">    bool game_running = true;</div>
<div class="line">    while (game_running) {</div>
<div class="line">        // Handle input</div>
<div class="line">        int ch = getch();</div>
<div class="line"> </div>
<div class="line">        // Process the input</div>
<div class="line">        switch (ch) {</div>
<div class="line">            case KEY_UP:</div>
<div class="line">                // move player up</div>
<div class="line">                break;</div>
<div class="line">            case KEY_DOWN:</div>
<div class="line">                // move player down</div>
<div class="line">                break;</div>
<div class="line">            // ... other cases for different inputs</div>
<div class="line">            case &#39;q&#39;:</div>
<div class="line">                game_running = false; // exit the game loop</div>
<div class="line">                break;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        // Update game state</div>
<div class="line">        // ...</div>
<div class="line"> </div>
<div class="line">        // Render to screen</div>
<div class="line">        // ...</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    // Cleanup before exiting</div>
<div class="line">    endwin();</div>
<div class="line">    return 0;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<p>In this structure, getch() is called at the start of each iteration of the game loop. It waits for a key press and then processes the input. This way, the game can respond to player actions continuously, and you have the logic in place to exit the game loop (for instance, when 'q' is pressed, as shown in the example).</p>
<p>The previous placement of getch() before the game loop was more of a placeholder to demonstrate waiting for any user input before closing the program, which is typical of simple demonstration programs but not suitable for a game with a continuous loop. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
